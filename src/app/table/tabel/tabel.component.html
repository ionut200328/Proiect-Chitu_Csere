<h1>Welcome, {{ userName }}</h1>
<div>
    <button nz-button nzType="primary" (click)="addEmployee()">
        <i nz-icon nzType="plus" nzTheme="outline"></i>
    </button>
</div>
<div class="logout-button">
    <button nz-button nzType="primary" (click)="logout()">
        <i nz-icon nzType="logout" nzTheme="outline"></i>
    </button>
</div>

<nz-table #basicTable 
    [nzData]="(employees | async) ?? []"
    [nzBordered]="true"
    [nzSize]="'small'"
    [nzPageSize]="8"
    [nzPageIndex]="pageIndex"
    (nzPageIndexChange)="handlePageIndexChange($event)">
    <thead>
        <tr>
            <th nzWidth="25%">Nume</th>
            <th nzWidth="25%">Prenume</th>
            <th nzWidth="25%">Email</th>
            <th nzWidth="25%">Telefon</th>
            <th nzWidth="25%">Funcție</th>
            <th nzWidth="25%">Acțiuni</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let employee of (employees | async)?.slice((pageIndex-1)*8, pageIndex*8) ?? []">
            <td>{{ employee.nume }}</td>
            <td>{{ employee.prenume }}</td>
            <td>{{ employee.email }}</td>
            <td>{{ employee.telefon }}</td>
            <td>{{ employee.functie }}</td>
            <td>
                <button nz-button nzType="primary" (click)="editEmployee(employee)">
                    <i nz-icon nzType="edit" nzTheme="outline"></i>
                </button>
                <button nz-button nzType="primary" (click)="deleteEmployee(employee.id)">
                    <i nz-icon nzType="delete" nzTheme="outline"></i>
                </button>
            </td>
        </tr>
    </tbody>
</nz-table>


